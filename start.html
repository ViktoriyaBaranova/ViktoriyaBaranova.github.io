<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lesson-1</title>

    <!-- font awesome cdn link  -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- custom css file link  -->
    <link rel="stylesheet" href="css/result-style.css">

</head>
<body>
    
<!-- header section starts  -->

<header class="header">

    <a href="index.html" class="logo"> <i class="fas fa-graduation-cap"></i> Geometry </a>

    <div id="menu-btn" class="fas fa-bars"></div>

    <nav class="navbar">
        <ul>
            <li><a href="index.html">Главная</a></li>
            <li><a href="result.html">Результаты</a></li>
            <li><a href="#">Занятия +</a>
                <ul>
                    <li><a href="lesson-1.html">Занятие 01</a></li>
                    <li><a href="lesson-2.html">Занятие 02</a></li>
                    <li><a href="lesson-3.html">Занятие 03</a></li>
                    <li><a href="lesson-1.html">Занятие 04</a></li>
                    <li><a href="lesson-2.html">Занятие 05</a></li>
                    <li><a href="lesson-3.html">Занятие 06</a></li>
                    <li><a href="lesson-1.html">Занятие 07</a></li>
                    <li><a href="lesson-2.html">Занятие 08</a></li>
                    <li><a href="lesson-3.html">Занятие 09</a></li>
                </ul>
            </li>
        </ul>
    </nav>

</header>

<!-- header section ends -->

<section class="heading">
    <h3>Регистрация</h3>
    <p> <a href="index.html">На главную >></a>Регистрация</p>
</section>

<!-- course-1 section starts  -->

<section class="course-2">
    
    <div class="box">
        <div class="content">
            <form>
                <p style="font-size: 14px; margin-left: 2rem;">Фамилия<input type="text" name="surname"></p>
                <p style="font-size: 14px; margin-left: 2rem;">Имя<input type="text" name="name"></p>
                <p style="font-size: 14px; margin-left: 2rem;">Группа<input type="text" name="group"></p>
                <p style="font-size: 14px; margin-left: 2rem;">Корпоративная почта<input type="email" name="email"></p>
            </form>
            
        </div>
        <p class="submit"></p>
        <a class="btn-result">Зарегистрироваться</a>
        <a class="btn-clear">Очистить</a>
    </div>
    
</section>

<!-- course-1 section ends -->



<!-- footer section starts  -->

<section class="footer">
    <div class="credit"> created by <span>Baranova Viktoria</span> | 2023 </div>

</section>

<!-- footer section ends -->

<!-- custom js file link  -->
<script src="js/script.js"></script>
<script>
    const form = document.querySelector("form");
    let formFields = form.elements;
    let submitBtn = document.querySelector(".btn-result");
    let clearBtn = document.querySelector(".btn-clear");
    const txtSubmit = document.querySelector(".submit");
    
    const submitStorage = () =>{
        txtSubmit.textContent = "Вы зарегистрированы";
        [...formFields].forEach((el, ind)=>{
            if(!el.value)
                return txtSubmit.textContent = `Поле "${el.getAttribute("name")}" не заполнено`;
            })
        //return txtSubmit.textContent = "Вы зарегистрированы"
    }
    
    const clearStorage = () =>{
        localStorage.clear();
        [...formFields].forEach((el, ind)=>{
            el.value = "";
    })
    }
    
    const checkStorage = ()=>{
        [...formFields].forEach((el, ind)=>{
            //el.value = localStorage.getItem(el.getAttribute("name"));
            el.addEventListener("change", ()=>{
                localStorage.setItem(el.getAttribute("name"), el.value);
            })
        })
        
    }
    
    submitBtn.addEventListener("click", submitStorage);
    clearBtn.addEventListener("click", clearStorage);
    
    checkStorage();
    [...formFields].forEach((el, ind)=>{
            el.value = localStorage.getItem(el.getAttribute("name"));
    })
    

</script>
</body>
</html>